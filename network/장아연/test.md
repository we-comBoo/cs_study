## 패킷 교환 방식
* 패킷을 이용해 정보를 교환하는 방식
* 데이터를 패킷 단위로 나누어 전달 

## 패킷 교환 방식 사용 이유
1. 자원 낭비 방지 <br/>
* 무거운 데이터를 그대로 전송하는 경우, 도중에 문제 발생 시 해당 전체 데이터를 다시 보내기 위해 많은 자원을 사용해야 할수도 있음
2. 효율적인 경로 선택 <br/>
* 패킷별로 최적의 경로 선택해 이동
* 특정 경로에 문제 발생해도 다른 경로로 이동하는 패킷은 안정적으로 도착가능

## IP
1. Internet Protocol
* 패킷을 정해진 목적지까지 운반하기 위해 사용하는 통신 규약
2. 역할
* 패킷을 정해진 목적지까지 전달하는 역할
3. 특징
* 비연결성 : 패킷의 목적지 존재 여부 보장하지 않음
* 비신뢰성 : 패킷의 상태를 보장하지 않음
4. IP 주소
* 패킷의 목적지 구분자 역할
5. IP 주소 확인하는 방법
* 구글에 "what is my ip?" 검색
* 커맨드 창에 `ipconfig` 또는 `ifconfig` 검색
* 한국인터넷진흥원에서 인터넷주소 정보 검색 서비스를 통해 IP 주소 검색해 해당 IP 주소 사용자의 신원/소속 확인 가능

## IPv4
1. 구조
뭐가 몇 비트.. 뭐가 몇 옥텟
2. 네트워크 주소 & 호스트 주소
여기서 네트워크랑 호스트 의미
호스트부분 00000000과 11111111 사용 불가능 : 네트워크주소 & 브로드캐스트 주소

## IP 주소 클래스
1. 등장 배경 <br/>
네트워크 부분과 호스트 부분은 고정되지 않음! (왜 고정하지 않았는지??)
2. A 클래스
3. B 클래스
4. C 클래스
5. 클래스 한계 
* B 클래스 급속도로 소진됨 
* 이유 : 클래스 별로 할당할 수 있는 호스트 갯수가 한정적이고 클래스에 따라 그 갯수의 차이가 크기 때문임. 대부분의 사이트가 클래스 C를 들어가기엔 크다 보니 클래스 B를 할당 받음 
* ~~3가지 객관식 선택 (A, B, C)만 존재~~

## IPv4 고갈 문제 발생
* IPv4 주소 체계에서 사용 가능한 IP 주소는 약 43억개
* 80년 대 소수의 사람만 컴퓨터를 사용했지만 이후 가정 내 PC 보급과 IoT 보급에 따라 IP 주소 소진이 가속화됨


## 효율적인 IP 주소 할당 - CIDR/서브넷마스크 & DHCP
### CIDR
1. 정의
* Classless Inter-Domain Routing | 사이더 | 클래스 없는 도메인 간 라우팅
2. 클래스보다 효율적인 이유<br/>
    ```
    옥텟 단위로 네트워크 부분과 호스트 부분을 분리하는 클래스와 달리
    CIDR는 비트 단위로 네트워크 부분과 호스트 부분을 분리하기 때문에 
    기존 클래스 방식보다 더 잘게 IP 주소를 쪼개 사용함에 따라 
    사용자들은 필요한 호스트 개수만큼만 호스트 할당받아 사용 가능 
    ~~ 자유로운 주관식 선택 (필요한 호스트 갯수 쓰기) ~~
    ```
3. 비트 단위로 네트워크 부분과 호스트 부분 구분
    ```
    Q. 다음의 IP 주소에서 1000개 정도의 호스트가 필요한 경우, 네트워크 부분과 호스트 부분 분리
    10진수 : 192.168.10.1
    2진수 : 11000000.10101000.00001010.00000001

    A. 
    -> 2의 10승 = 1024 
    -> 뒤에서부터 10bit 부분인 10.00000001 : 호스트 부분
    -> 나머지 앞의 22bit 부분인 11000000.10101000.000010 : 네트워크 부분
    ```
4. 서브넷 마스크
* 32bit
* IP 주소의 네트워크 부분과 호스트 부분 구분할 수 있게 하는 역할
* 네트워크 부분 : 1이 연속한 자릿수 부분
* 호스트 부분 : 0이 있는 자릿수 부분
    ```
    Q. 주어진 서브넷 마스크에 대해 다음의 IP 주소에서 네트워크 부분과 호스트 부분을 구분해라
    10진수 : 192.168.10.1
    2진수 : 11000000.10101000.00001010.00000001
    서브넷마스크 : 255.255.255.0

    A. 
    IP 주소    : 11000000.10101000.00001010.00000001
    서브넷마스크 : 11111111.11111111.11111111.00000000
    
    호스트 부분 | IP 주소 영역에서 서브넷마스크가 연속적으로 0인 부분 
    -> 1 (00000001) 
    네트워크 부분 | IP 주소 영역에서 서브넷마스크가 연속적으로 1인 부분 
    -> 192.168.10 (11000000.10101000.00001010) 
    ```
5. CIDR 표기법
* 원래 IP 주소 / 서브넷 마스크의 연속적인 1의 자릿수
    ```
    Q. 주어진 서브넷 마스크에 대해 다음의 IP 주소를 CIDR 표기법으로 작성
    10진수 : 192.168.10.1
    2진수 : 11000000.10101000.00001010.00000001
    서브넷마스크 : 255.255.255.0

    A. 
    IP 주소    : 11000000.10101000.00001010.00000001
    서브넷마스크 : 11111111.11111111.11111111.00000000
    
    네트워크 부분의 연속적인 1의 자릿수 = 24
    => 192.169.10.1/24
    ```
### DHCP

1. 고정 IP와 유동 IP 
    |고정 IP|유동 IP|
    |:--:|:--:|
    |고정적으로 같은 IP 사용|고정되어 있지 않고 상황에 따라 바뀌는 IP 사용|
    |독서실에서 맨날 지정석인 본인 자리에 착석|도서관에서 그때 그때 빈자리에 착석|
    |사용하는 통신사의 ISP에 요청해 할당 받으며 주로 서버 운영 등 특수한 경우|대부분 ISP에서 제공하는 유동 IP 주소 사용|
2. 동적으로 IP주소를 부여하고 관리하는 프로토콜
3. 동적인 IP 주소 할당 과정 - 갱신 없는 경우
    ```
    1. 컴퓨터의 IP 주소에 대한 요청
    2. DHCP 서버가 현재 할당 가능한 IP 주소 탐색
    3. IP 주소와 임대 기간(주로 8일, 유동적 설정 가능) 제공해 할당해 줌
    4. 임대 기간 종료 또는 IP 주소 사용하지 않으면 컴퓨터가 DHCP 서버에 IP 주소 반환
    ```
4. 동적인 IP 주소 할당 과정 - 갱신 요청하는 경우
    ```
    주소 임대 신청 : 1월 1일 
                ---임대 기간 8일---> 반환 예정일 : 1월 9일 
    갱신 요청 : (임대 기간 끝나기 전인) 1월 5일 ---갱신 성공---> 
            ---임대 기간 8일---> 반환 예정일 : 1월 13일
    ```
## IP 주소 갯수 늘리기 - 공인IP/사설IP/NAT

1. 공인 IP와 사설 IP 
    |공인 IP|사설 IP|
    |:--:|:--:|
    |인터넷 상 유일한 주소|다른 네트워크끼리는 고유하지 않음|
    |-|자신이 속학 네트워크 내에서 고유함|
    |ISP에서 공식적으로 할당|특정 네트워크 내 사적인 용도로 활용|
    |건물 주소 (아파트 이름)|상세 주소 (동호수)|

* 특정 네트워크 별로 고유한 IP는 한개씩만 가져가되, 그 네트워크 안에 호스트는 따로 가상 IP 주소를 할당해 서로 구분 가능
* 사설 IP는 본인이 속한 네트워크에서만 고유하기 때문에 외부 네트워크에서 사설 IP 사용 시 혼선 발생할 수 있기 때문에 공식적으로 정해진 대역 내에서만 사용 가능
* 사설 IP는 192.168로 시작함
* NAT을 활용해 중복되는 사설 IP를 가지고도 다른 컴퓨터와 통신 가능

2. NAT
## 차세대 IP - IPv6


----
## ⭐ IPv4 주소 고갈을 해결하는 방안
1. CIDR와 서브넷 마스크 <br/>
네트워크 부분과 호스트 부분의 구분점을 1비트 단위까지 가능하게 해 유연한 호스트 주소 할당 가능
1. DHCP <br/>
필요할 때만 IP 주소를 할당받는 기술
2. NAT <br/>
여러 기기에서 하나의 IP 주소만 사용하는 방식
3. IPv6 <br/>
새로운 IP 버진

## ⭐ 네트워크 부분과 호스트 부분 구분 방법
1. 클래스
2. CIDR

